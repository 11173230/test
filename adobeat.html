<!doctype html>
<html lang="en">

<head>
    <title>Adobe Target Demo - 0815test</title>

    <!-- Preconnect / Prefetch for Adobe domains -->
    <link rel="preconnect" href="//dpm.demdex.net">
    <link rel="preconnect" href="//cm.everesttech.net">
    <link rel="preconnect" href="//techmarketingdemos.tt.omtrdc.net">
    <link rel="dns-prefetch" href="//dpm.demdex.net">
    <link rel="dns-prefetch" href="//cm.everesttech.net">
    <link rel="dns-prefetch" href="//techmarketingdemos.tt.omtrdc.net">

    <!-- DigitalData (ÂèØÁµ¶ Target / Analytics ‰ΩøÁî®) -->
    <script>
        var digitalData = {
            "page": {
                "pageInfo": {
                    "pageName": "Home"
                }
            }
        };
    </script>

    <!-- È†êÈò≤ÈñÉÂ±è -->
    <script>
        (function (g, b, d, f) {
            (function (a, c, d) {
                if (a) {
                    var e = b.createElement("style");
                    e.id = c;
                    e.innerHTML = d;
                    a.appendChild(e);
                }
            })(b.getElementsByTagName("head")[0], "at-body-style", d);
            setTimeout(function () {
                var a = b.getElementsByTagName("head")[0];
                if (a) {
                    var c = b.getElementById("at-body-style");
                    c && a.removeChild(c);
                }
            }, f)
        })(window, document, "body {opacity: 0 !important}", 3000);
    </script>

    <!-- Adobe Launch (Â∑≤ÂÖßÂê´ at.js v1.x) -->
    <script src="https://assets.adobedtm.com/c88561b17244/34dbf331cabd/launch-6e41b0bf85df-development.min.js"
        async></script>
</head>

<body>
    <h1>Adobe Target Demo</h1>
    <p>This page is using <strong>0815test</strong> mbox for AB testing.</p>

    <div id="contentArea" class="mboxDefault">
        <p>This is the default content. If a Target activity is delivered, it will be replaced.</p>
    </div>

    <script>
        // Á≠âÂæÖ Adobe Target SDK Â∞±Á∑í
        document.addEventListener('at-request-succeeded', function () {
            console.log('‚úÖ Adobe Target ready. Requesting offer for 0815test...');

            adobe.target.getOffer({
                mbox: '0815test',
                success: function (offers) {
                    console.log('üì¶ Target offer response:', offers);

                    if (offers && offers.length > 0) {
                        adobe.target.applyOffer({
                            mbox: '0815test',
                            offer: offers
                        });
                        console.log('‚úÖ Offer applied to 0815test.');
                    } else {
                        console.warn('‚ö†Ô∏è Offer is empty. Check activity settings or audience conditions.');
                    }
                },
                error: function (status, error) {
                    console.error('‚ùå Target getOffer Error:', status, error);
                }
            });
        });
    </script>
</body>

</html>
